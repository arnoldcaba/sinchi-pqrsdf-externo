(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["registro"],{1965:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{width:"500px"}},[s("v-card-title",{domProps:{innerHTML:e._s("Registro")}}),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{label:"Email",type:"email",dense:"",outlined:"",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",label:"Contraseña",dense:"",outlined:"",rules:e.passwordRules},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password",label:"Confirmar contraseña",dense:"",outlined:"",rules:e.passwordRules},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),s("v-btn",{attrs:{color:"accent",block:"",loading:e.processing},on:{click:function(t){return e.register()}}},[e._v("Registrarse")]),s("v-divider",{staticClass:"my-4"}),s("v-btn",{attrs:{color:"secondary",block:""},on:{click:function(t){return e.$emit("change-mode-login")}}},[e._v("Volver")])],1)],1)],1)},i=[],r=s("ea7b"),o=s("bc3a"),n=s.n(o),d=s("c3e4");const l={sendRegister:function(e,t){return new Promise((function(s,a){n()({method:"post",url:d["a"].apiUrl+"/sendRegister",dataType:"json",data:{email:e,"contraseña":t}}).then((function(e){s(e)})).catch((function(e){a(e)}))}))}};var c=l,u={name:"Registro",data(){return{processing:!1,valid:!0,email:"",password:"",password2:"",show1:!1,show2:!1,emailRules:[e=>!!e||"Email es requerido.",e=>/.+@.+\..+/.test(e)||"Debe ser un email valido."],passwordRules:[e=>!!e||"Contraseña es requerido.",e=>this.password===this.password2||"Las contraseñas deben coincidir."]}},watch:{password(){this.$refs.form.validate()},password2(){this.$refs.form.validate()}},methods:{async register(){if(this.$refs.form.validate(),this.sendMail(this.email,this.password),this.valid){this.processing=!0;try{const e=Object(r["c"])(),t=await Object(r["b"])(e,this.email,this.password);t?(this.$toasted.success("Su registro fue exitoso",{duration:5e3}),this.sendMail()):this.$toasted.error("Error en registro, intentalo de nuevo",{duration:3e3})}catch(e){const t=e.code;"auth/email-already-in-use"===t?this.$toasted.error("Correo ya esta en uso",{duration:3e3}):this.$toasted.error("Error en autenticación",{duration:3e3})}this.processing=!1}},async sendMail(e,t){await c.sendRegister(e,t)}}},h=u,p=s("2877"),m=s("6544"),v=s.n(m),f=s("8336"),w=s("b0af"),b=s("99d9"),g=s("ce7e"),_=s("4bd4"),y=s("8654"),k=Object(p["a"])(h,a,i,!1,null,null,null);t["default"]=k.exports;v()(k,{VBtn:f["a"],VCard:w["a"],VCardText:b["a"],VCardTitle:b["b"],VDivider:g["a"],VForm:_["a"],VTextField:y["a"]})},"4bd4":function(e,t,s){"use strict";var a=s("58df"),i=s("7e2b"),r=s("3206");t["a"]=Object(a["a"])(i["a"],Object(r["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",t=>{this.$set(this.errorBag,e._uid,t)},{immediate:!0}),s={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=e.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(e._uid)||(s.valid=t(e)))}):s.valid=t(e),s},validate(){return 0===this.inputs.filter(e=>!e.validate(!0)).length},reset(){this.inputs.forEach(e=>e.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(e=>e.resetValidation()),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find(t=>t._uid===e._uid);if(!t)return;const s=this.watchers.find(e=>e._uid===t._uid);s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter(e=>e._uid!==t._uid),this.inputs=this.inputs.filter(e=>e._uid!==t._uid),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},"99d9":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return d}));var a=s("b0af"),i=s("80d2");const r=Object(i["j"])("v-card__actions"),o=Object(i["j"])("v-card__subtitle"),n=Object(i["j"])("v-card__text"),d=Object(i["j"])("v-card__title");a["a"]},b0af:function(e,t,s){"use strict";s("615b");var a=s("10d2"),i=s("297c"),r=s("1c87"),o=s("58df");t["a"]=Object(o["a"])(i["a"],r["a"],a["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...r["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...a["a"].options.computed.classes.call(this)}},styles(){const e={...a["a"].options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=i["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})}}]);
//# sourceMappingURL=registro.9af540cd.js.map